{"version":3,"file":"generated.js","sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/browserify/node_modules/domain-browser/index.js","node_modules/browserify/node_modules/events/events.js","node_modules/browserify/node_modules/process/browser.js","node_modules/promise/lib/core.js","node_modules/promise/lib/es6-extensions.js","node_modules/promise/node_modules/asap/browser-asap.js","node_modules/promise/node_modules/asap/browser-raw.js","node_modules/promise/node_modules/asap/raw.js","node_modules/promise/polyfill-done.js","node_modules/promise/polyfill.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","events","domain","createDomain","create","d","EventEmitter","emitError","emit","add","emitter","on","remove","removeListener","bind","fn","args","Array","prototype","slice","arguments","apply","err","intercept","run","this","dispose","removeAllListeners","enter","exit","_events","_maxListeners","undefined","defaultMaxListeners","setMaxListeners","isNumber","isNaN","TypeError","type","er","handler","len","listeners","error","isObject","isUndefined","isFunction","addListener","listener","m","newListener","push","warned","console","trace","once","fired","g","list","position","splice","key","ret","listenerCount","arg","process","queue","draining","drainQueue","currentQueue","nextTick","fun","setTimeout","title","browser","env","argv","version","versions","noop","off","binding","name","cwd","chdir","dir","umask","asap","LAST_ERROR","IS_ERROR","getThen","obj","then","ex","tryCallOne","tryCallTwo","b","Promise","_32","_8","_89","doResolve","_83","onFulfilled","onRejected","constructor","safeThen","res","handle","Handler","self","resolve","reject","deferred","cb","promise","newValue","finale","done","value","reason","TRUE","valuePromise","FALSE","NULL","UNDEFINED","ZERO","EMPTYSTRING","p","all","arr","remaining","val","race","values","forEach","rawAsap","freeTasks","pendingErrors","requestErrorThrow","makeRequestCallFromTimer","throwFirstError","shift","task","rawTask","pop","RawTask","onerror","requestFlush","flushing","index","capacity","flush","currentIndex","scan","newLength","BrowserMutationObserver","global","MutationObserver","WebKitMutationObserver","makeRequestCallFromMutationObserver","callback","toggle","observer","node","document","createTextNode","observe","characterData","requestCall","data","timeoutHandle","handleTimer","intervalHandle","setInterval","clearTimeout","clearInterval","hasSetImmediate","setImmediate","parentDomain","active"],"mappings":"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,OAAA1F,UAAAtB,SAAA2B,KAAAmE,KAAAvE,MAAAI,MAAAL,aAAAK;AJqGA,QIpGAqF,KAAAlB,KAAA,MAAA,SAAAtE;AJqGA,UIpGAkD,WAAA;AJqGA,YIpGA,MAAAlD;AJqGA,aIpGA;;AHRA;AACA;AACA;AACA;AACA,IIFA,IAAAiE,OAAAjG,QAAA;AJGA,IIDA,WAAA2G,YAAA,aAAA;AJEA,MIDAA,UAAA3G,QAAA;AJEA,MIDAA,QAAA;AJEA;AACA,IIAAA,QAAA;AJCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC5NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*global define:false require:false */\nmodule.exports = (function(){\n\t// Import Events\n\tvar events = require('events')\n\n\t// Export Domain\n\tvar domain = {}\n\tdomain.createDomain = domain.create = function(){\n\t\tvar d = new events.EventEmitter()\n\n\t\tfunction emitError(e) {\n\t\t\td.emit('error', e)\n\t\t}\n\n\t\td.add = function(emitter){\n\t\t\temitter.on('error', emitError)\n\t\t}\n\t\td.remove = function(emitter){\n\t\t\temitter.removeListener('error', emitError)\n\t\t}\n\t\td.bind = function(fn){\n\t\t\treturn function(){\n\t\t\t\tvar args = Array.prototype.slice.call(arguments)\n\t\t\t\ttry {\n\t\t\t\t\tfn.apply(null, args)\n\t\t\t\t}\n\t\t\t\tcatch (err){\n\t\t\t\t\temitError(err)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\td.intercept = function(fn){\n\t\t\treturn function(err){\n\t\t\t\tif ( err ) {\n\t\t\t\t\temitError(err)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar args = Array.prototype.slice.call(arguments, 1)\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfn.apply(null, args)\n\t\t\t\t\t}\n\t\t\t\t\tcatch (err){\n\t\t\t\t\t\temitError(err)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\td.run = function(fn){\n\t\t\ttry {\n\t\t\t\tfn()\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\temitError(err)\n\t\t\t}\n\t\t\treturn this\n\t\t};\n\t\td.dispose = function(){\n\t\t\tthis.removeAllListeners()\n\t\t\treturn this\n\t\t};\n\t\td.enter = d.exit = function(){\n\t\t\treturn this\n\t\t}\n\t\treturn d\n\t};\n\treturn domain\n}).call(this)","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar asap = require('asap/raw');\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('not a function');\n  }\n  this._32 = 0;\n  this._8 = null;\n  this._89 = [];\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._83 = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n};\nfunction handle(self, deferred) {\n  while (self._32 === 3) {\n    self = self._8;\n  }\n  if (self._32 === 0) {\n    self._89.push(deferred);\n    return;\n  }\n  asap(function() {\n    var cb = self._32 === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._32 === 1) {\n        resolve(deferred.promise, self._8);\n      } else {\n        reject(deferred.promise, self._8);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._8);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._32 = 3;\n      self._8 = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._32 = 1;\n  self._8 = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._32 = 2;\n  self._8 = newValue;\n  finale(self);\n}\nfunction finale(self) {\n  for (var i = 0; i < self._89.length; i++) {\n    handle(self, self._89[i]);\n  }\n  self._89 = null;\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  })\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n","'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\nvar asap = require('asap/raw');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._83);\n  p._32 = 1;\n  p._8 = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nPromise.all = function (arr) {\n  var args = Array.prototype.slice.call(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._32 === 3) {\n            val = val._8;\n          }\n          if (val._32 === 1) return res(i, val._8);\n          if (val._32 === 2) reject(val._8);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    values.forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n","\"use strict\";\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = require(\"./raw\");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\nvar BrowserMutationObserver = global.MutationObserver || global.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","\"use strict\";\n\nvar domain; // The domain module is executed on demand\nvar hasSetImmediate = typeof setImmediate === \"function\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including network IO events in Node.js.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Avoids a function call\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory excaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\nrawAsap.requestFlush = requestFlush;\nfunction requestFlush() {\n    // Ensure flushing is not bound to any domain.\n    // It is not sufficient to exit the domain, because domains exist on a stack.\n    // To execute code outside of any domain, the following dance is necessary.\n    var parentDomain = process.domain;\n    if (parentDomain) {\n        if (!domain) {\n            // Lazy execute the domain module.\n            // Only employed if the user elects to use domains.\n            domain = require(\"domain\");\n        }\n        domain.active = process.domain = null;\n    }\n\n    // `setImmediate` is slower that `process.nextTick`, but `process.nextTick`\n    // cannot handle recursion.\n    // `requestFlush` will only be called recursively from `asap.js`, to resume\n    // flushing after an error is thrown into a domain.\n    // Conveniently, `setImmediate` was introduced in the same version\n    // `process.nextTick` started throwing recursion errors.\n    if (flushing && hasSetImmediate) {\n        setImmediate(flush);\n    } else {\n        process.nextTick(flush);\n    }\n\n    if (parentDomain) {\n        domain.active = process.domain = parentDomain;\n    }\n}\n","// should work in any browser without browserify\n\nif (typeof Promise.prototype.done !== 'function') {\n  Promise.prototype.done = function (onFulfilled, onRejected) {\n    var self = arguments.length ? this.then.apply(this, arguments) : this\n    self.then(null, function (err) {\n      setTimeout(function () {\n        throw err\n      }, 0)\n    })\n  }\n}","// not \"use strict\" so we can declare global \"Promise\"\n\nvar asap = require('asap');\n\nif (typeof Promise === 'undefined') {\n  Promise = require('./lib/core.js')\n  require('./lib/es6-extensions.js')\n}\n\nrequire('./polyfill-done.js');\n"]}